<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KPL - Kochar Premier League</title>
  </head>
  <style>
    #player-error {
      color: red;
    }
  </style>
  <body>
    <h1>KPL - Kochar Premier League</h1>
    <div>
      <!-- <form onsubmit=" myFunction()" name="RegForm" id="playerForm" > -->
      <input type="text" name="playerInput" id="player-input" />

      <div><span id="player-error"></span></div>
      <input
        type="submit"
        onclick="addPlayerInTeam()"
        name="Add Player"
        value="Add Player"
      />
      <!-- </form> -->
    </div>
    <div class="print-players" id="print-players"></div>
  </body>

  <script>
    var players = [];
    var playersElement = document.getElementById("print-players");
    function addPlayerInTeam() {
      let error = document.getElementById("player-error");
      let playerElement = document.getElementById("player-input");
      if (playerElement.value != "") {
        error.innerHTML = ``;
        players.push(playerElement.value);
        printPlayers();
        playerElement.value = "";
      } else {
        error.innerHTML = `Please Enter Player Name`;
      }
    }

    function printPlayers() {
      var allPlayers = "";

      players.forEach(function (playerName, index) {
        allPlayers += `<span>Player ${playerName}</span><button onclick="deletePlayer(${index})">x</button><br />`;
      });

      // for (let i = 0; i < players.length; i++) {
      //   var playerName = players[i];
      //   allPlayers += `<span>Player ${players[i]}</span><button onclick="deletePlayer(${i})">x</button><br />`;
      // }
      playersElement.innerHTML = allPlayers;
    }
    function deletePlayer(playerIndex) {
      // console.log("PLayer delete", playerIndex);
      players.splice(playerIndex, 1);
      printPlayers();
    }
  </script>

  <!-- <script>
 function myFunction() {
  var playerInput = document.getElementById("player-input"); 
  if (player-input.value == "") { 
            window.alert("Please enter your name."); 
            playerInput.focus(); 
            return false; 
        } 
        return true; 
}
  </script> -->
</html>
